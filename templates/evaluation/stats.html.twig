{% extends 'base.html.twig' %}

{% block tirePage %}Visualiser les statistiques{% endblock %}

{% block evaluations %}active{% endblock %}

{% block contenu %}

{{dump(groupes)}}

<table align="center" class="table">
  <tbody>
    <tr>
      <th class="intitule"><label for="evaluation_nom" >Nom de l'évaluation</label></th>
      <td>{{evaluation.nom}}</td>
    </tr>
    <tr>
      <td class="intitule"><label for="evaluation_groupe" >Groupe</label></td>
      <td>{{evaluation.groupe.nom}}</td>
    </tr>
    <tr>
      <td class="intitule"><label for="evaluation_date" >Date</label></td>
      <td>{{evaluation.date}}</td>
    </tr>
    <tr>
      <th class="intitule"><label >Actions</label></th>
      <td><a href="#"><i style="font-size: 25px;" class="icon-file-pdf"></i><a href="#"><i style="font-size: 25px;" class="icon-file-excel"></i><a href="#"><i style="font-size: 25px;" class="icon-mail"></i></a> </td>
    </tr>
  </tbody>
</table>

<div class="bouton">
  <span style="font-size:15px"class="badge badge-pill badge-danger">Les statistiques ne comportent pas les étudiants démissionaire</span>
</div>

{% if groupes is not empty %}

{% for groupe in groupes %}


<br>
<div class="card" style="width: 18rem; margin: 0 auto; float: none; margin-bottom: 10px;">
<div class="card-body">
  <h5 class="card-title">Réparition des notes</h5>
  <canvas id="barre" width="500" height="500"></canvas>
</div>
</div>
{% endfor %}

{% else %}

<div class="info">
  <h2 class="h4 mb-0 text-gray-800">Veuillez sélectionner des groupes sur lesquels voir des statistiques</h1>
</div>

{% endif %}

{% endblock %}

{% block javascripts %}

<script type="text/javascript">

var titouan = document.getElementById('barre').getContext('2d');

var leBarre = new Chart(titouan, {
    type: 'bar',
    data: {
        labels: ['[0;4[', '[4;8[', '[8;12[', '[12;16[', '[16;20]'],
        datasets: [{
            label: 'Quantité de notes',
            data: [3, 2, 5, 1, 2],
            backgroundColor: [
                'rgba(255, 99, 132, 0.5)',
                'rgba(54, 162, 235, 0.5)',
                'rgba(255, 206, 86, 0.5)',
                'rgba(75, 192, 192, 0.5)',
				        'rgba(238, 130, 238, 0.5)',
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
				        'rgba(238, 130, 238, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
					max: 6
                }
            }]
        },
		responsive: false,
		title: {
            display: true,
            text: 'Répartition des notes'

        },
		legend: {
            display: false
        },
		plugins : {
			labels: {
        render: 'value'
			}
		}
    }
});

</script>


{% endblock %}
