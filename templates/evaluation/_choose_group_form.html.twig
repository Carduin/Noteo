{{form_start(form)}}
{{form_errors(form.groupes)}}
<div class="table-responsive table-hover">
<table class="table" id= "groupes">
<thead>
  <th>Nom</th>
  <th>Effectif</th>
  <th>Description</th>
  <th>Cr√©ateur</th>
  <th></th>
</thead>
<tbody>
  {% for groupe in form.groupes %}

    {# store index of the category in a variable #}
    {% set index = groupe.vars.value %}

    {# get entity object from its index in the Categories Field #}
    {% set entity = form.groupes.vars.choices[index].data %}
      <tr>
          <td>
              {% if entity.lvl > 0 %}
                  {% for i in 1.. entity.lvl %}
                      &emsp;
                  {% endfor %}
              {% endif %}
              {{entity.nom}}
          </td>
          <td>{{ entity.etudiants|length }}</td>
          <td>{{entity.description}}</td>
          <td>{{entity.enseignant.prenom}} {{entity.enseignant.nom}}</td>
          <td>{{form_widget(form.groupes[index])}}</td>
      </tr>
  {% endfor %}
</tbody>
</table>
</div>
<div class='bouton' align=center>
  <a href="{{path('evaluation_enseignant', {'id': app.user.id })}}" class="d-sm-inline-block btn btn-sm btn-secondary shadow-sm">Annuler</a>
  <button class="d-sm-inline-block btn btn-sm btn-primary shadow-sm">Saisir les notes</button>
</div>

{{form_end(form)}}
