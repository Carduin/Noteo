{% extends 'base.html.twig' %}

{% block titrePage %}Créer des parties{% endblock %}

{% block evaluations %}active{% endblock %}

{% block stylesheets %}
    <style>
        .badge {
            float: right;
            display: inline-block;
            min-width: 10px;
            padding: 3px 7px;
            font-size: 12px;
            font-weight: bold;
            line-height: 1;
            color: #fff;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            background-color: #0275d8;
            border-radius: 10px;
        }

        span.blue {color:#0275d8}
    </style>
{% endblock %}

{% block contenu %}
    <div class="row">
        <div class="col-lg-4">
            <div id="arbre_boot"></div>
            <button class="btn btn-success" disabled>Ajouter une partie</button>
        </div>
        <div class="col-lg-4">
            <div id="arbre_js"></div>
        </div>
        <div class="col-lg-4">
            <table class="table table-hover">
                <thead>
                    <th>Intitulé</th>
                    <th>Barème</th>
                    <th></th>
                </thead>
                <tbody>
                    <tr>
                        <td>Evaluation</td>
                        <td>20</td>
                        <td><a href="#"><i class="icon-plus"></i></a></td>
                    </tr>
                    <tr>
                        <td>&emsp;Exercice 1</td>
                        <td>10</td>
                        <td><a href="#"><i class="icon-plus"></i></a></td>
                    </tr>
                    <tr>
                        <td>&emsp;Exercice 2</td>
                        <td>10</td>
                        <td><a href="#" data-toggle="modal" onclick="modale()"><i class="icon-plus"></i></a></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal fade" id="modalePartie" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Créer une partie</h5>
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">x</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{include('partie/_form.html.twig')}}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script>
            //Variables
            var next_id = 4;
            var treeBoot = [
                {
                    id: 1,
                    text: "Evaluation",
                    nom: 'Evaluation',
                    bareme: 20,
                    tags: ['/ '+ 20],
                    nodes: [
                        {
                            id: 2,
                            text: "Exercice 1",
                            nom : "Exercice 1",
                            bareme: 10,
                            tags: ['/ 10'],
                        },
                        {
                            id: 3,
                            text: "Exercice 2",
                            nom : "Exercice 2",
                            bareme: 10,
                            tags: ['/ 10'],
                        },
                    ]
                }
            ];
            var treeJS = [
                {
                    id: 1,
                    text: "Evaluation (/20)",
                    nom: 'Evaluation',
                    bareme: 20,
                    icon: 'icon-plus',
                    children: [
                        {
                            id: 2,
                            text: "Exercice 1",
                            nom : "Exercice 1",
                            bareme: 10,
                            icon: 'icon-plus',
                            tags: ['<span class="badge badge-pill badge-primary">/ 10</span>'],
                        },
                        {
                            id: 3,
                            text: "Exercice 2",
                            nom : "Exercice 2",
                            bareme: 10,
                            icon: 'icon-plus',
                            tags: ['<span class="badge badge-pill badge-primary">/ 10</span>'],
                        }
                    ]
                }
            ];

            ajouterEnfants()
        ajoutEnfants()

        function modale() {
            $('#modalePartie').modal();
        }
    </script>
{% endblock %}