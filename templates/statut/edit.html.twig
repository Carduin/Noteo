{% extends 'base.html.twig' %}

{% block titrePage %}Modifier un statut étudiant{% endblock %}

{% block statutsEtudiants %}active{% endblock %}

{% block contenu %}

{{ include('statut/_form.html.twig', {'button_label': 'Enregistrer'})}}

{% endblock %}

{% block datatables %}
<script type="text/javascript">

  //Activation de Datatables sur le tableau d'ajout des étudiants
  var tableAjout = $('#etudAjout').DataTable({
    language: {
      // Suppression du label Rechercher et ajout du placeholder
      search: "_INPUT_",
      searchPlaceholder: "Rechercher...",
      "url": "{{asset('tradfr.json')}}"
    },
    order: [
      [0, "asc"]
    ],
    columns: [null, null,{"orderable": false},{"orderable": false}],
    lengthMenu: [
      [10, 25, 50, -1],
      [10, 25, 50, "Tout"]
    ],
    info: false,
  });

  //Activation de Datatables sur le tableau de suppression des étudiants
  var tableSuppr = $('#etudSuppr').DataTable({
    language: {
      // Suppression du label Rechercher et ajout du placeholder
      search: "_INPUT_",
      searchPlaceholder: "Rechercher...",
      "url": "{{asset('tradfr.json')}}"
    },
    order: [
      [0, "asc"]
    ],
    columns: [null, null,{"orderable": false},{"orderable": false}],
    lengthMenu: [
      [10, 25, 50, -1],
      [10, 25, 50, "Tout"]
    ],
    info: false,
  });

  //La fonction sera enclenchée lors de la soumission du formulaire
  $("[name='statut_edit']").on('submit', function () {
    tableAjout.rows().nodes().page.len(-1).draw(); // Cette fonction permet, avant la soumission du formulaire, d'afficher dans le DOM toutes les lignes du tableau pour qu'aucune ne soit ignorée
    tableSuppr.rows().nodes().page.len(-1).draw();
  });

</script>
{% endblock %}
