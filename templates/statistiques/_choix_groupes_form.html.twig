{{form_start(form)}}
{% set route = app.request.attributes.get('_route') %}
<div class="table-responsive table-hover">
    <table class="table" id= "groupes">
        <thead>
        <th>
          {% if route != "stats_choisir_groupe_haut_niveau_evaluable" and route != "stats_choisir_statut" %}
            <input type="checkbox" onclick= "cocherToutesLesCases('form[groupes][]', this.checked)" name="checkbox" title="Tout cocher"/>
          {% endif %}
        </th>
        <th>Nom</th>
        <th>Effectif
        {% if typeGraphique is defined and typeGraphique == "evolutionGroupe" or typeGraphique == "evolutionStatut"  %}
          {% if route == "statistiques_choisir_sous_groupes" %}<a href="" class="fontSized" data-toggle="tooltip" data-placement="top" title="La couleur de l'effectif indique la facilité de lecture des graphiques qui seront générés pa"><i
                          class="icon-help-circled"></i></a></th> {% endif %}
        {% endif %}

        <th>Description</th>
        <th>Créateur</th>
        </thead>
        <tbody>


        {% for groupe in form.groupes %}
            {# store index of the category in a variable #}
            {% set index = groupe.vars.value %}
            {# get entity object from its index in the Categories Field #}
            {% set entity = form.groupes.vars.choices[index].data %}
            <tr>
                <td>
                  {{form_widget(form.groupes[index])}}
                </td>
                <td>
                    {% if not pasDIndentation %}
                        {% if entity.lvl > 0 %}
                            {% for i in 1.. entity.lvl %}
                                &emsp;
                            {% endfor %}
                        {% endif %}
                    {% endif %}
                    {{entity.nom}}
                </td>
                <td><span class="
                {% if route == "statistiques_choisir_sous_groupes" and entity.etudiants.count <= 16 %}
                  green
                {% elseif route == "statistiques_choisir_sous_groupes" and entity.etudiants.count > 16 and entity.etudiants.count <= 30 %}
                  orange
                {% elseif route == "statistiques_choisir_sous_groupes" and entity.etudiants.count > 30 %}
                  red
                {% endif %}"

                >{{entity.etudiants.count}}</span></td>
                <td>{{entity.description}}</td>
                <td>{{ entity.enseignant.prenom }} {{ entity.enseignant.nom }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div class='bouton' align=center>
        <button class="d-sm-inline-block btn btn-sm btn-primary shadow-sm" id="valider">Suivant</button>
    </div>
</div>
{{form_end(form)}}
{% block stylesheets %}
    <style>
        span.green {
            color: green;
        }
        span.orange {
            color: orange;
        }
        span.red{
            color: red;
        }
        .fontSized{
          font-size: 1.2em;
        }
    </style>
{% endblock %}
